SELECT md5(md5(CASE WHEN n.nspname ::text IS NULL THEN ' ' ELSE n.nspname ::text END) ||md5(CASE WHEN c.relname ::text IS NULL THEN ' ' ELSE c.relname ::text END) ||md5(CASE WHEN n.oid  ::text IS NULL THEN ' ' ELSE n.oid  ::text END) ::text) AS guid,  c.relname As objectname, CASE WHEN c.relkind = 'v' THEN 'view' ELSE 'table' END As objecttype,      pg_get_userbyid(c.relowner) AS ownername, t.spcname AS tspace,      n.nspname AS schemaname,  d.description    FROM pg_class As c    LEFT JOIN pg_namespace n ON n.oid = c.relnamespace    LEFT JOIN pg_tablespace t ON t.oid = c.reltablespace    LEFT JOIN pg_description As d ON (d.objoid = c.oid and d.objsubid = 0) where  n.nspname not like 'pg%'     ORDER BY c.relname,t.spcname